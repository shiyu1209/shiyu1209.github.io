import{e as y,f as R,_ as H,c as a,a as o,b as e,g as $,t as d,F as k,h as C,w as D,r as b,o as L,i as K,n as M,d as O,j as P,v as U,u as B,k as T,l as j}from"./index-DYaDPK3h.js";const q="/image/logo.png",u=R({files:[{id:1,name:"省级_全国大学生数学建模竞赛 二等奖马川贺.pdf",type:"document",size:"2.1MB",date:"2024-09-15",category:"获奖证书",path:"/files/documents/省级_全国大学生数学建模竞赛 二等奖马川贺.pdf",tags:["数学建模","省级","二等奖","竞赛"]},{id:2,name:'国家级：第六届"泰迪杯"数据分析技能赛三等奖 马川贺.pdf',type:"document",size:"1.8MB",date:"2024-08-20",category:"获奖证书",path:'/files/documents/国家级：第六届"泰迪杯"数据分析技能赛三等奖 马川贺  .pdf',tags:["泰迪杯","国家级","数据分析","三等奖"]},{id:3,name:"MathorCup高校数学建模挑战赛--大数据竞赛三等奖马川贺.pdf",type:"document",size:"2.3MB",date:"2023-12-10",category:"获奖证书",path:"/files/documents/国家级2023年MathorCup高校数学建模挑战赛--大数据竞赛三等奖马川贺  .pdf",tags:["MathorCup","国家级","数学建模","大数据","三等奖"]},{id:4,name:"省级 2024东北三省数学建模联赛 二等奖.pdf",type:"document",size:"1.9MB",date:"2024-06-15",category:"获奖证书",path:"/files/documents/省级 2024东北三省数学建模联赛 二等奖.pdf",tags:["东北三省","省级","数学建模","二等奖"]},{id:5,name:'"正大杯"第十四届全国大学生市场调查与分析大赛省三.pdf',type:"document",size:"1.5MB",date:"2024-05-20",category:"获奖证书",path:'/files/documents/"正大杯"第十四届全国大学生市场调查与分析大赛黑龙江赛区本科生组结果公示---省三.pdf',tags:["正大杯","市场调查","数据分析","省级","三等奖"]},{id:6,name:"头像.jpg",type:"image",size:"856KB",date:"2024-09-01",category:"个人照片",path:"/image/头像.jpg",tags:["头像","个人照片","马川贺"]},{id:7,name:"优秀学生奖学金.png",type:"image",size:"1.2MB",date:"2024-07-10",category:"获奖证书",path:"/files/images/优秀学生奖学金.png",tags:["奖学金","优秀学生","荣誉"]},{id:8,name:"省级_全国大学生数学建模竞赛 二等奖马川贺.jpg",type:"image",size:"2.1MB",date:"2024-09-15",category:"获奖证书",path:"/files/images/省级_全国大学生数学建模竞赛 二等奖马川贺.jpg",tags:["数学建模","证书照片","二等奖"]},{id:9,name:"偏向.mp3",type:"audio",size:"4.2MB",date:"2024-08-15",category:"音乐收藏",path:"/music/偏向.mp3",tags:["音乐","收藏","流行"]},{id:10,name:"一路向北.mp3",type:"audio",size:"3.8MB",date:"2024-08-15",category:"音乐收藏",path:"/music/一路向北.mp3",tags:["音乐","收藏","经典"]},{id:11,name:"雨爱.mp3",type:"audio",size:"4.1MB",date:"2024-08-15",category:"音乐收藏",path:"/music/雨爱.mp3",tags:["音乐","收藏","抒情"]},{id:12,name:"在加纳共和国离婚.mp3",type:"audio",size:"3.9MB",date:"2024-08-15",category:"音乐收藏",path:"/music/在加纳共和国离婚.mp3",tags:["音乐","收藏","独特"]},{id:13,name:"租购.mp3",type:"audio",size:"4.0MB",date:"2024-08-15",category:"音乐收藏",path:"/music/租购.mp3",tags:["音乐","收藏","现代"]}],searchHistory:["数学建模竞赛","泰迪杯","获奖证书","数据分析","马川贺","音乐"],recentFiles:[]}),A=y(()=>{const n={};return u.files.forEach(s=>{n[s.category]||(n[s.category]=[]),n[s.category].push(s)}),n}),G=y(()=>{const n={};return u.files.forEach(s=>{n[s.type]=(n[s.type]||0)+1}),n});function J(n){if(!n.trim())return[];const s=n.toLowerCase();return u.files.filter(f=>f.name.toLowerCase().includes(s)||f.category.toLowerCase().includes(s)||f.tags.some(c=>c.toLowerCase().includes(s)))}function Q(n){n&&!u.searchHistory.includes(n)&&(u.searchHistory.unshift(n),u.searchHistory.length>10&&u.searchHistory.pop())}function W(n){const s=u.recentFiles.findIndex(f=>f.id===n.id);s>-1&&u.recentFiles.splice(s,1),u.recentFiles.unshift(n),u.recentFiles.length>5&&u.recentFiles.pop()}function N(){return{files:u.files,searchHistory:u.searchHistory,recentFiles:u.recentFiles,filesByCategory:A,fileTypeStats:G,searchFiles:J,addToSearchHistory:Q,addToRecentFiles:W}}const X={class:"file-icon"},Y=["name"],Z={class:"file-info"},ee={class:"file-name"},te={class:"file-meta"},se={class:"file-size"},ne={class:"file-date"},ie={class:"file-category"},oe={key:0,class:"file-tags"},ae={class:"file-actions"},le={__name:"FileCard",props:{file:{type:Object,required:!0}},setup(n){const s=n,f=N();function c(p){return{document:"document-text-outline",image:"image-outline",audio:"musical-note-outline",video:"videocam-outline"}[p]||"document-outline"}function v(p){const l=new Date(p),x=Math.abs(new Date-l),_=Math.ceil(x/(1e3*60*60*24));return _===1?"今天":_===2?"昨天":_<=7?`${_}天前`:l.toLocaleDateString("zh-CN")}function r(){f.addToRecentFiles(s.file),s.file.type==="image"?window.open(s.file.path,"_blank"):s.file.type==="audio"?console.log("播放音乐:",s.file.name):window.open(s.file.path,"_blank")}function h(p){p.stopPropagation();const l=document.createElement("a");l.href=s.file.path,l.download=s.file.name,document.body.appendChild(l),l.click(),document.body.removeChild(l)}function w(p){p.stopPropagation(),navigator.share?navigator.share({title:s.file.name,text:`查看 ${s.file.name}`,url:window.location.origin+s.file.path}):(navigator.clipboard.writeText(window.location.origin+s.file.path),alert("链接已复制到剪贴板"))}return(p,l)=>(o(),a("div",{class:"file-card",onClick:r},[e("div",X,[e("ion-icon",{name:c(n.file.type)},null,8,Y)]),e("div",Z,[e("h4",ee,d(n.file.name),1),e("div",te,[e("span",se,d(n.file.size),1),e("span",ne,d(v(n.file.date)),1)]),e("div",ie,d(n.file.category),1),n.file.tags&&n.file.tags.length>0?(o(),a("div",oe,[(o(!0),a(k,null,C(n.file.tags.slice(0,3),F=>(o(),a("span",{key:F,class:"tag"},d(F),1))),128))])):$("",!0)]),e("div",ae,[e("button",{onClick:D(h,["stop"]),class:"action-btn"},[...l[0]||(l[0]=[e("ion-icon",{name:"download-outline"},null,-1)])]),e("button",{onClick:D(w,["stop"]),class:"action-btn"},[...l[1]||(l[1]=[e("ion-icon",{name:"share-outline"},null,-1)])])])]))}},E=H(le,[["__scopeId","data-v-fcd22a4e"]]),ce={class:"time-box"},re={__name:"TimeBox",setup(n){const s=b("00:00:00");let f=null;function c(r){return r>9?r:"0"+r}function v(){const r=new Date;s.value=`${c(r.getHours())}:${c(r.getMinutes())}:${c(r.getSeconds())}`}return L(()=>{v(),f=setInterval(v,1e3)}),K(()=>clearInterval(f)),(r,h)=>(o(),a("div",ce,d(s.value),1))}},ue=H(re,[["__scopeId","data-v-2d55894f"]]),de={class:"search-page"},fe={class:"time-corner"},me={class:"search-header"},ge={class:"search-container"},pe={key:0,class:"search-suggestions"},ve={class:"suggestion-section"},he={class:"suggestion-items"},ye=["onClick"],_e={class:"suggestion-section"},ke={class:"suggestion-items"},Ce=["onClick"],be={class:"suggestion-section"},we={class:"suggestion-items"},Fe=["onClick"],Me={class:"search-content"},Be={key:0,class:"search-results"},$e={class:"results-header"},xe={class:"view-toggle"},ze={key:0,class:"no-results"},Se={key:1,class:"default-content"},Te={key:0,class:"recent-files"},He={class:"recent-container"},Ie={class:"file-stats"},De={class:"stats-grid"},je={class:"stat-item"},Ee={class:"stat-number"},Le={class:"stat-item"},Ne={class:"stat-number"},Ve={class:"stat-item"},Re={class:"stat-number"},Ke={class:"stat-item"},Oe={class:"stat-number"},Pe={__name:"Search",setup(n){const s=N(),f=b(null),c=b(""),v=b(!1),r=b(!1),h=b("list"),w=y(()=>s.searchFiles(c.value)),p=y(()=>["数学建模","泰迪杯","二等奖","三等奖","国家级","省级","数据分析","MathorCup"]),l=y(()=>["获奖证书","个人照片","音乐收藏"]);y(()=>{const m=s.files.flatMap(g=>g.tags),t={};return m.forEach(g=>{t[g]=(t[g]||0)+1}),Object.entries(t).sort(([,g],[,i])=>i-g).slice(0,8).map(([g])=>g)}),y(()=>{const m={};return s.files&&s.files.forEach(t=>{m[t.type]=(m[t.type]||0)+1}),m});function F(){v.value=!0,r.value=!0}function x(){setTimeout(()=>{v.value=!1,r.value=!1},200)}function _(){}function V(){var m;c.value="",(m=f.value)==null||m.focus()}function z(m){c.value=m,r.value=!1}function S(m){var t;return((t=s.files)==null?void 0:t.filter(g=>g.category===m).length)||0}return L(()=>{}),(m,t)=>{var g;return o(),a("div",de,[e("div",{class:M(["bg-layer",{active:v.value}])},null,2),e("div",fe,[O(ue)]),e("div",me,[e("div",ge,[e("div",{class:M(["search-box",{focused:v.value}])},[t[4]||(t[4]=e("img",{src:q,class:"search-logo"},null,-1)),P(e("input",{ref_key:"searchInput",ref:f,"onUpdate:modelValue":t[0]||(t[0]=i=>c.value=i),type:"text",class:"search-input",placeholder:"搜索文件、图片、文档...",onFocus:F,onBlur:x,onInput:_},null,544),[[U,c.value]]),c.value?(o(),a("button",{key:0,onClick:V,class:"clear-btn"},[...t[3]||(t[3]=[e("ion-icon",{name:"close-outline"},null,-1)])])):$("",!0)],2),r.value?(o(),a("div",pe,[e("div",ve,[t[6]||(t[6]=e("h4",null,"搜索历史",-1)),e("div",he,[(o(!0),a(k,null,C(B(s).searchHistory.slice(0,5),i=>(o(),a("span",{key:i,onClick:I=>z(i),class:"suggestion-item"},[t[5]||(t[5]=e("ion-icon",{name:"time-outline"},null,-1)),T(" "+d(i),1)],8,ye))),128))])]),e("div",_e,[t[8]||(t[8]=e("h4",null,"AboutMe",-1)),e("div",ke,[(o(!0),a(k,null,C(p.value,i=>(o(),a("span",{key:i,onClick:I=>z(i),class:"suggestion-item achievement-item"},[t[7]||(t[7]=e("ion-icon",{name:"trophy-outline"},null,-1)),T(" "+d(i),1)],8,Ce))),128))])]),e("div",be,[t[10]||(t[10]=e("h4",null,"文件类型",-1)),e("div",we,[(o(!0),a(k,null,C(l.value,i=>(o(),a("span",{key:i,onClick:I=>z(i),class:"suggestion-item category-item"},[t[9]||(t[9]=e("ion-icon",{name:"folder-outline"},null,-1)),T(" "+d(i),1)],8,Fe))),128))])])])):$("",!0)])]),e("div",Me,[c.value?(o(),a("div",Be,[e("div",$e,[e("h3",null,"搜索结果 ("+d(w.value.length)+")",1),e("div",xe,[e("button",{onClick:t[1]||(t[1]=i=>h.value="list"),class:M([{active:h.value==="list"},"view-btn"])},[...t[11]||(t[11]=[e("ion-icon",{name:"list-outline"},null,-1)])],2),e("button",{onClick:t[2]||(t[2]=i=>h.value="grid"),class:M([{active:h.value==="grid"},"view-btn"])},[...t[12]||(t[12]=[e("ion-icon",{name:"grid-outline"},null,-1)])],2)])]),e("div",{class:M(["results-container",h.value])},[(o(!0),a(k,null,C(w.value,i=>(o(),j(E,{key:i.id,file:i,class:"result-item"},null,8,["file"]))),128)),w.value.length===0?(o(),a("div",ze,[...t[13]||(t[13]=[e("ion-icon",{name:"search-outline"},null,-1),e("h3",null,"未找到相关文件",-1),e("p",null,"尝试使用不同的关键词或检查拼写",-1)])])):$("",!0)],2)])):(o(),a("div",Se,[t[24]||(t[24]=e("div",{class:"welcome-section"},[e("h2",null,"个人文件库"),e("p",null,"搜索您的证书、照片和音乐收藏")],-1)),B(s).recentFiles&&B(s).recentFiles.length>0?(o(),a("div",Te,[t[14]||(t[14]=e("h3",null,"最近访问",-1)),e("div",He,[(o(!0),a(k,null,C(B(s).recentFiles,i=>(o(),j(E,{key:i.id,file:i},null,8,["file"]))),128))])])):$("",!0),e("div",Ie,[t[23]||(t[23]=e("h3",null,"文件概览",-1)),e("div",De,[e("div",je,[t[15]||(t[15]=e("div",{class:"stat-icon"},[e("ion-icon",{name:"trophy-outline"})],-1)),e("div",Ee,d(S("获奖证书")),1),t[16]||(t[16]=e("div",{class:"stat-label"},"获奖证书",-1))]),e("div",Le,[t[17]||(t[17]=e("div",{class:"stat-icon"},[e("ion-icon",{name:"image-outline"})],-1)),e("div",Ne,d(S("个人照片")),1),t[18]||(t[18]=e("div",{class:"stat-label"},"个人照片",-1))]),e("div",Ve,[t[19]||(t[19]=e("div",{class:"stat-icon"},[e("ion-icon",{name:"musical-note-outline"})],-1)),e("div",Re,d(S("音乐收藏")),1),t[20]||(t[20]=e("div",{class:"stat-label"},"音乐收藏",-1))]),e("div",Ke,[t[21]||(t[21]=e("div",{class:"stat-icon"},[e("ion-icon",{name:"documents-outline"})],-1)),e("div",Oe,d(((g=B(s).files)==null?void 0:g.length)||0),1),t[22]||(t[22]=e("div",{class:"stat-label"},"总文件数",-1))])])])]))])])}}},qe=H(Pe,[["__scopeId","data-v-daf00af6"]]);export{qe as default};
